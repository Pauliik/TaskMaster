{% extends 'TM/base.html' %}

{% block title %}Document main{% endblock %}

{% block content %}

<style>
   body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f4; /* Фоновый цвет */
    margin: 0;
    padding: 20px;
}

.form-container {
    max-width: 600px; /* Максимальная ширина формы */
    margin: 0 auto; /* Центрирование формы */
    padding: 20px;
    background-color: #ffffff; /* Белый фон для формы */
    border-radius: 8px; /* Скругленные углы */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Тени для формы */
}

h2 {
    text-align: center; /* Заголовок по центру */
    color: #333; /* Цвет заголовка */
}

.form-group {
    display: flex;
    flex-direction: column; /* Вертикальное размещение элементов */
    gap: 15px; /* Пробелы между группами */
}

.project-info, .task-info {
    border: 1px solid #ddd; /* Рамка для группировки */
    border-radius: 5px;
    padding: 15px; /* Отступы внутри групп */
}

.form-field {
    display: flex;
    flex-direction: column; /* Вертикальное размещение метки и поля ввода */
}

label {
    margin-bottom: 5px; /* Отступ между меткой и полем ввода */
    font-weight: bold; /* Жирный текст для меток */
}

input, select, textarea {
    padding: 10px; /* Отступы внутри полей */
    border: 1px solid #ccc; /* Рамка полей */
    border-radius: 4px; /* Скругленные углы полей */
    transition: border-color 0.3s; /* Плавный переход для рамки */
}

input:focus, select:focus, textarea:focus {
    border-color: #4A90E2; /* Цвет рамки при фокусе */
    outline: none; /* Убирает стандартное обводка */
}

.error-message {
    color: #e74c3c; /* Красный цвет для ошибок */
    font-size: 14px; /* Размер шрифта для ошибок */
}

.submit-button {
    background-color: #4A90E2; /* Цвет кнопки */
    color: white; /* Цвет текста кнопки */
    border: none; /* Без рамки */
    padding: 10px 15px; /* Внутренние отступы кнопки */
    border-radius: 5px; /* Скруглённые углы кнопки */
    cursor: pointer; /* Указатель руки при наведении */
    transition: background-color 0.3s; /* Плавный переход цвета кнопки */
    width: 100%; /* Кнопка занимает полную ширину */
}

.submit-button:hover {
    background-color: #357ABD; /* Цвет кнопки при наведении */
}

.messages {
    margin-top: 15px; /* Отступ сверху для сообщений */
    list-style: none; /* Убрать маркеры списка */
    padding: 0; /* Убрать отступы */
}

.messages li {
    background-color: #e0f7fa; /* Цвет фона для сообщений */
    padding: 10px; /* Внутренние отступы для сообщений */
    border-radius: 4px; /* Скругленные углы сообщений */
    margin-bottom: 10px; /* Отступ между сообщениями */
}
</style>
    <div class="form-container">
        <form method='post'>
            {% csrf_token %}
            <div class="form-group">
                <h2>Создание проекта и задачи</h2>
                <div class="project-info">
                    <div class="form-field">
                        <label for='{{ project_form.name.id_for_label }}'>{{ project_form.name.label }}</label>
                        {{ project_form.name }}
                        {% if project_form.name.errors %}
                            <div class="error-message">
                                {{ project_form.name.errors.as_text }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-field">
                        <label for='{{ project_form.description.id_for_label }}'>{{ project_form.description.label }}</label>
                        {{ project_form.description }}
                        {% if project_form.description.errors %}
                            <div class="error-message">
                                {{ project_form.description.errors.as_text }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-field">
                        <label for='{{ project_form.end_date.id_for_label }}'>{{ project_form.end_date.label }}</label>
                        {{ project_form.end_date }}
                        {% if project_form.end_date.errors %}
                            <div class="error-message">
                                {{ project_form.end_date.errors.as_text }}
                            </div>
                        {% endif %}
                    </div>
                </div>

                <div class="task-info">
                    <div class="form-field">
                        <label for='{{ task_form.name_task.id_for_label }}'>{{ task_form.name_task.label }}</label>
                        {{ task_form.name_task }}
                        {% if task_form.name_task.errors %}
                            <div class="error-message">
                                {{ task_form.name_task.errors.as_text }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-field">
                        <label for='{{ task_form.description.id_for_label }}'>{{ task_form.description.label }}</label>
                        {{ task_form.description }}
                        {% if task_form.description.errors %}
                            <div class="error-message">
                                {{ task_form.description.errors.as_text }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-field">
                        <label for='{{ task_form.priority.id_for_label }}'>{{ task_form.priority.label }}</label>
                        {{ task_form.priority }}
                        {% if task_form.priority.errors %}
                            <div class="error-message">
                                {{ task_form.priority.errors.as_text }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-field">
                        <label for='{{ task_form.status.id_for_label }}'>{{ task_form.status.label }}</label>
                        {{ task_form.status }}
                        {% if task_form.status.errors %}
                            <div class="error-message">
                                {{ task_form.status.errors.as_text }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-field">
                        <label for='{{ task_form.executor.id_for_label }}'>{{ task_form.executor.label }}</label>
                        {{ task_form.executor }}
                        {% if task_form.executor.errors %}
                            <div class="error-message">
                                {{ task_form.executor.errors.as_text }}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form-field">
                        <label for='{{ task_form.due_date.id_for_label }}'>{{ task_form.due_date.label }}</label>
                        {{ task_form.due_date }}
                        {% if task_form.due_date.errors %}
                            <div class="error-message">
                                {{ task_form.due_date.errors.as_text }}
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>

            <button type='submit' class="submit-button">Сохранить</button>
        </form>

        {% if messages %}
            <ul class='messages'>
                {% for message in messages %}
                    <li {% if message.tags %} class='{{ message.tags }}' {% endif %}>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
{% endblock %}